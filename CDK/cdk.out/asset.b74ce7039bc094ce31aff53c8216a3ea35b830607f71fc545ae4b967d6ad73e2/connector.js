"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const history_service_1 = require("./services/history.service");
const loan_service_1 = require("./services/loan.service");
exports.handler = async (event) => {
    switch (event.info.fieldName) {
        case "getDashboard":
            return await loan_service_1.LoanService.getDashboard();
        case "getLoans":
            return await loan_service_1.LoanService.getLoans(event.arguments.isActive);
        case "getLoanByID":
            return await loan_service_1.LoanService.getLoanByID(event.arguments.loanID);
        case "createLoan":
            return await loan_service_1.LoanService.createLoan(event.arguments.loan);
        case "updateLoan":
            return await loan_service_1.LoanService.updateLoan(event.arguments.loan);
        case "changeLoanStatus":
            return await loan_service_1.LoanService.changeLoanStatus(event.arguments.loanID, event.arguments.isActive);
        case "updatePendingAmount":
            return await loan_service_1.LoanService.updatePendingAmount(event.arguments.loanID, event.arguments.interestPaid);
        case "deleteLoan":
            return await loan_service_1.LoanService.deleteLoan(event.arguments.loanID);
        case "getLoanHistory":
            return await history_service_1.HistoryService.getLoanHistory(event.arguments.loanID);
        case "updateHistory":
            return await history_service_1.HistoryService.updateHistory(event.arguments.loan);
        default:
            return null;
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29ubmVjdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY29ubmVjdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsZ0VBQTREO0FBQzVELDBEQUFzRDtBQUV0RCxPQUFPLENBQUMsT0FBTyxHQUFHLEtBQUssRUFBRSxLQUFnQixFQUFFLEVBQUU7SUFDekMsUUFBUSxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtRQUMxQixLQUFLLGNBQWM7WUFDZixPQUFPLE1BQU0sMEJBQVcsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUM1QyxLQUFLLFVBQVU7WUFDWCxPQUFPLE1BQU0sMEJBQVcsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNoRSxLQUFLLGFBQWE7WUFDZCxPQUFPLE1BQU0sMEJBQVcsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNqRSxLQUFLLFlBQVk7WUFDYixPQUFPLE1BQU0sMEJBQVcsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5RCxLQUFLLFlBQVk7WUFDYixPQUFPLE1BQU0sMEJBQVcsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5RCxLQUFLLGtCQUFrQjtZQUNuQixPQUFPLE1BQU0sMEJBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hHLEtBQUsscUJBQXFCO1lBQ3RCLE9BQU8sTUFBTSwwQkFBVyxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUE7UUFDdEcsS0FBSyxZQUFZO1lBQ2IsT0FBTyxNQUFNLDBCQUFXLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDaEUsS0FBSyxnQkFBZ0I7WUFDakIsT0FBTyxNQUFNLGdDQUFjLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDdkUsS0FBSyxlQUFlO1lBQ2hCLE9BQU8sTUFBTSxnQ0FBYyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BFO1lBQ0ksT0FBTyxJQUFJLENBQUM7S0FDbkI7QUFDTCxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIaXN0b3J5U2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2VzL2hpc3Rvcnkuc2VydmljZVwiO1xuaW1wb3J0IHsgTG9hblNlcnZpY2UgfSBmcm9tIFwiLi9zZXJ2aWNlcy9sb2FuLnNlcnZpY2VcIjtcblxuZXhwb3J0cy5oYW5kbGVyID0gYXN5bmMgKGV2ZW50OkxvYW5FdmVudHMpID0+IHtcbiAgICBzd2l0Y2ggKGV2ZW50LmluZm8uZmllbGROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJnZXREYXNoYm9hcmRcIjpcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBMb2FuU2VydmljZS5nZXREYXNoYm9hcmQoKTtcbiAgICAgICAgY2FzZSBcImdldExvYW5zXCI6XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgTG9hblNlcnZpY2UuZ2V0TG9hbnMoZXZlbnQuYXJndW1lbnRzLmlzQWN0aXZlKTtcbiAgICAgICAgY2FzZSBcImdldExvYW5CeUlEXCI6XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgTG9hblNlcnZpY2UuZ2V0TG9hbkJ5SUQoZXZlbnQuYXJndW1lbnRzLmxvYW5JRCk7XG4gICAgICAgIGNhc2UgXCJjcmVhdGVMb2FuXCI6XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgTG9hblNlcnZpY2UuY3JlYXRlTG9hbihldmVudC5hcmd1bWVudHMubG9hbik7XG4gICAgICAgIGNhc2UgXCJ1cGRhdGVMb2FuXCI6XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgTG9hblNlcnZpY2UudXBkYXRlTG9hbihldmVudC5hcmd1bWVudHMubG9hbik7XG4gICAgICAgIGNhc2UgXCJjaGFuZ2VMb2FuU3RhdHVzXCI6XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgTG9hblNlcnZpY2UuY2hhbmdlTG9hblN0YXR1cyhldmVudC5hcmd1bWVudHMubG9hbklELCBldmVudC5hcmd1bWVudHMuaXNBY3RpdmUpO1xuICAgICAgICBjYXNlIFwidXBkYXRlUGVuZGluZ0Ftb3VudFwiOlxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IExvYW5TZXJ2aWNlLnVwZGF0ZVBlbmRpbmdBbW91bnQoZXZlbnQuYXJndW1lbnRzLmxvYW5JRCwgZXZlbnQuYXJndW1lbnRzLmludGVyZXN0UGFpZClcbiAgICAgICAgY2FzZSBcImRlbGV0ZUxvYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBMb2FuU2VydmljZS5kZWxldGVMb2FuKGV2ZW50LmFyZ3VtZW50cy5sb2FuSUQpO1xuICAgICAgICBjYXNlIFwiZ2V0TG9hbkhpc3RvcnlcIjpcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBIaXN0b3J5U2VydmljZS5nZXRMb2FuSGlzdG9yeShldmVudC5hcmd1bWVudHMubG9hbklEKTtcbiAgICAgICAgY2FzZSBcInVwZGF0ZUhpc3RvcnlcIjpcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBIaXN0b3J5U2VydmljZS51cGRhdGVIaXN0b3J5KGV2ZW50LmFyZ3VtZW50cy5sb2FuKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn0iXX0=